---
layout: default
title: Samogitia — Military & Navy Evolution
description: Evolution of Samogitia's military and navy over time.
---

<style>
  /* Page-specific styles for Samogitia evolution */
  .container{max-width:1000px;}
  .card{margin-bottom:1.5rem;}
  canvas{height:420px!important;}
</style>

<header class="banner">
  <h1>Samogitia — Military & Navy Evolution</h1>
  <p>The first standing forces of Samogitia</p>
</header>

<main class="container">

  <!-- 1444 baseline -->
  <section class="card">
    <h2>Armies of 1444</h2>
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>Army</th>
            <th>Commander</th>
            <th>Total</th>
            <th>Inf</th>
            <th>Cav</th>
            <th>Art</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Field Army (later “Iron Wolf”)</td>
            <td>Daugvilas Tyzenhaus</td>
            <td>6,000</td>
            <td>5,000</td>
            <td>1,000</td>
            <td>0</td>
          </tr>
        </tbody>
      </table>
    </div>
    <p class="muted">A structured field army existed in 1444; it was formally named <em>Iron Wolf</em> in June 1445.</p>
  </section>

  <!-- 1445–1446 named armies -->
  <section class="card">
    <h2>Armies of 1445–1446</h2>
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>Year</th>
            <th>Army</th>
            <th>Commander</th>
            <th>Total</th>
            <th>Inf</th>
            <th>Cav</th>
            <th>Art</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1445 (June)</td>
            <td>Iron Wolf</td>
            <td>Daugvilas Tyzenhaus</td>
            <td>10,000</td>
            <td>5,000</td>
            <td>3,000</td>
            <td>2,000</td>
          </tr>
          <tr>
            <td>1446</td>
            <td>Black Death</td>
            <td>Kantibutas Giedraiciai</td>
            <td>10,000</td>
            <td>5,000</td>
            <td>3,000</td>
            <td>2,000</td>
          </tr>
          <tr>
            <td colspan="3"><strong>1446 Combined</strong></td>
            <td><strong>20,000</strong></td>
            <td><strong>10,000</strong></td>
            <td><strong>6,000</strong></td>
            <td><strong>4,000</strong></td>
          </tr>
        </tbody>
      </table>
    </div>
    <p class="muted">Combined totals assume both armies are active in 1446.</p>
  </section>

  <!-- Evolution charts -->
  <section class="card">
    <h2>Samogitian Military Evolution</h2>
    <canvas id="armyEvolutionChart"></canvas>
  </section>

  <section class="card">
    <h2>Samogitian Navy Evolution</h2>
    <canvas id="navyEvolutionChart"></canvas>
  </section>

  <section class="card">
    <h2>Navy Composition Breakdown</h2>
    <canvas id="navyBreakdownChart"></canvas>
  </section>
</main>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script type="module">
  import { SAMOGITIA_BY_YEAR, SAMOGITIA_NAMED_ARMIES_BY_YEAR } from './assets/js/militaryData.js';

  const YEARS = Object.keys(SAMOGITIA_BY_YEAR);

  // --- Totals for charts ---
  const ARMY_TOTAL = YEARS.map(y=>{
    const v=SAMOGITIA_BY_YEAR[y];
    return v?(v.inf+v.cav+v.art):0;
  });
  const NAVY_TOTAL = YEARS.map(y=>{
    const v=SAMOGITIA_BY_YEAR[y];
    // FIX: the key is 'trans' (not 'transport')
    return v?(v.heavy+v.light+v.galley+v.trans):0;
  });

  const NAVY_HEAVY = YEARS.map(y=>SAMOGITIA_BY_YEAR[y]?.heavy||0);
  const NAVY_LIGHT = YEARS.map(y=>SAMOGITIA_BY_YEAR[y]?.light||0);
  const NAVY_GALLEY = YEARS.map(y=>SAMOGITIA_BY_YEAR[y]?.galley||0);
  const NAVY_TRANSPORT = YEARS.map(y=>SAMOGITIA_BY_YEAR[y]?.trans||0);

  // Helper to format numbers with separators
  const nf = (n)=> (n==null? '0' : n.toLocaleString());

  // Build tooltip lines for a given year from named regiments
  function regimentLines(year){
    const arr = SAMOGITIA_NAMED_ARMIES_BY_YEAR[year] || [];
    if (!arr.length) return ['—'];
    return arr.map(u=>{
      const cmd = u.commander && u.commander !== '—' ? ` — ${u.commander}` : '';
      return `• ${u.name}${cmd}: ${nf(u.inf)}/${nf(u.cav)}/${nf(u.art)}`;
    });
  }

  // --- Army Evolution (with named regiments tooltip) ---
  const ctxArmy=document.getElementById('armyEvolutionChart').getContext('2d');
  new Chart(ctxArmy,{
    type:'line',
    data:{
      labels:YEARS,
      datasets:[
        {label:'Army (total)',data:ARMY_TOTAL,borderColor:'hsl(0,70%,45%)',backgroundColor:'hsla(0,70%,45%,0.25)',tension:0.25}
      ]
    },
    options:{
      responsive:true,
      plugins:{
        legend:{display:true},
        tooltip:{
          callbacks:{
            // Add named regiments under the total line item
            afterBody:(items)=>{
              if(!items?.length) return;
              const year = items[0].label;
              const lines = regimentLines(year);
              // insert a blank line before details for readability
              return [' ', ...lines];
            }
          }
        }
      },
      scales:{y:{beginAtZero:true}}
    }
  });

  // --- Navy Evolution (unchanged visuals, but fixed keys) ---
  const ctxNavyEvo=document.getElementById('navyEvolutionChart').getContext('2d');
  new Chart(ctxNavyEvo,{
    type:'line',
    data:{labels:YEARS,datasets:[
      {label:'Navy (total)',data:NAVY_TOTAL,borderColor:'hsl(210,65%,45%)',backgroundColor:'hsla(210,65%,45%,0.25)',tension:0.25}
    ]},
    options:{responsive:true,plugins:{legend:{display:true}},scales:{y:{beginAtZero:true}}}
  });

  // --- Navy breakdown (fixed transport key) ---
  const ctxNavy=document.getElementById('navyBreakdownChart').getContext('2d');
  new Chart(ctxNavy,{
    type:'line',
    data:{
      labels:YEARS,
      datasets:[
        { label:'Heavy',     data:NAVY_HEAVY,     borderColor:'hsl(210,65%,45%)', backgroundColor:'hsla(210,65%,70%,0.25)', tension:0.25, pointRadius:4 },
        { label:'Light',     data:NAVY_LIGHT,     borderColor:'hsl(200,65%,45%)', backgroundColor:'hsla(200,65%,70%,0.25)', tension:0.25, pointRadius:4 },
        { label:'Galley',    data:NAVY_GALLEY,    borderColor:'hsl(220,65%,45%)', backgroundColor:'hsla(220,65%,70%,0.25)', tension:0.25, pointRadius:4 },
        { label:'Transport', data:NAVY_TRANSPORT, borderColor:'hsl(190,65%,45%)', backgroundColor:'hsla(190,65%,70%,0.25)', tension:0.25, pointRadius:4 }
      ]
    },
    options:{responsive:true,plugins:{legend:{display:true}},scales:{y:{beginAtZero:true}}}
  });
</script>

