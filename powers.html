---
layout: default
title: Powers of 1444
description: Army and navy compositions of major powers in 1444.
---

<style>
  /* Page-specific styles for Powers */
  .container{max-width:1200px;}
  canvas{height:480px!important;}
  .toolbar{display:flex;gap:.5rem;align-items:center;margin:.25rem 0 1rem;}
  .toolbar button{border:1px solid var(--line);background:#fff;border-radius:.5rem;padding:.45rem .8rem;cursor:pointer;font-weight:600;}
  .toolbar button:hover{background:#f6f6f6;}
  .highlight{background:#fffbdd;}
  th.sortable{cursor:pointer;}
  .tabs{display:flex;gap:.5rem;flex-wrap:wrap;margin:.5rem 0 1rem;}
  .tabs button{border:1px solid var(--line);background:#fff;border-radius:.5rem;padding:.45rem .8rem;font-weight:700;cursor:pointer;}
  .tabs button.active{background:var(--accent,#8b0000);border-color:var(--accent,#8b0000);color:#fff;}
</style>

<header class="banner">
  <h1>Powers of 1444</h1>
  <p>Army and Navy compositions at the dawn of the age</p>
</header>

<main class="container">
  <!-- Tabs -->
  <div class="tabs">
    <button class="active" data-tab="armies">Armies (1444)</button>
    <button data-tab="navies">Navies (1444)</button>
  </div>

  <!-- Armies Tab -->
  <article id="tab-armies" class="card">
    <h2>Army Composition (Infantry / Cavalry / Artillery)</h2>
    <div class="toolbar">
  <label>Year:
    <select id="army-year"></select>
  </label>
  <button id="highlightArmy" type="button">Top Army</button>
</div>
    <div class="table-container">
      <table id="army-table">
        <thead>
          <tr>
            <th>Country</th>
            <th>Total</th>
            <th>Inf</th>
            <th>Cav</th>
            <th>Art</th>
          </tr>
        </thead>
        <tbody id="army-rows"></tbody>
      </table>
    </div>
    <p class="muted">Totals = Infantry + Cavalry + Artillery</p>
  </article>

  <!-- Navies Tab -->
  <article id="tab-navies" class="card" hidden>
    <h2>Navy Composition (Heavy / Light / Galley / Transport)</h2>
   <div class="toolbar">
  <label>Year:
    <select id="navy-year"></select>
  </label>
  <button id="highlightNavy" type="button">Top Navy</button>
</div>
    <div class="table-container">
      <table id="navy-table">
        <thead>
          <tr>
            <th>Country</th>
            <th>Total</th>
            <th>Heavy</th>
            <th>Light</th>
            <th>Galley</th>
            <th>Transport</th>
          </tr>
        </thead>
        <tbody id="navy-rows"></tbody>
      </table>
    </div>
    <p class="muted">Totals = Heavy + Light + Galleys + Transports</p>
  </article>

  <!-- Samogitia named armies (optional helper table) -->
  <section class="card" style="margin-top:1rem;">
    <h2>Samogitia Armies (1444–1446)</h2>
    <div class="table-container">
      <table>
        <thead>
          <tr><th>Year</th><th>Name</th><th>Commander</th><th>Inf</th><th>Cav</th><th>Art</th><th>Total</th></tr>
        </thead>
        <tbody>
          <tr>
            <td>1444</td><td><em>—</em></td><td><em>—</em></td>
            <td>5,000</td><td>1,000</td><td>0</td><td>6,000</td>
          </tr>
          <tr>
            <td>1445</td><td>Iron Wolf</td><td>Daugvilas Tyzenhaus</td>
            <td>5,000</td><td>3,000</td><td>2,000</td><td>10,000</td>
          </tr>
          <tr>
            <td>1446</td><td>Black Death</td><td>Kantibutas Giedraiciai</td>
            <td>5,000</td><td>3,000</td><td>2,000</td><td>10,000</td>
          </tr>
          <tr>
            <td colspan="3"><strong>1446 Combined</strong></td>
            <td><strong>10,000</strong></td>
            <td><strong>6,000</strong></td>
            <td><strong>4,000</strong></td>
            <td><strong>20,000</strong></td>
          </tr>
        </tbody>
      </table>
    </div>
    <p class="muted">Combined totals assume both armies are active in 1446.</p>
  </section>

 <!-- Interactive Charts -->
<section class="card" style="margin-top:2rem;">
  <h2>Armies — Evolution</h2>
  <div class="toolbar">
    <button id="toggleArmiesBtn" type="button">Show all</button>
  </div>
  <canvas id="armyEvolutionChart"></canvas>
</section>

<section class="card" style="margin-top:1rem;">
  <h2>Navies — Evolution</h2>
  <div class="toolbar">
    <button id="toggleNaviesBtn" type="button">Show all</button>
  </div>
  <canvas id="navyEvolutionChart"></canvas>
</section>


  <a class="back" href="index.html">← Back to Chronicle Index</a>
</main>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script type="module">
  // One import only (cache-busted + path-safe for GitHub Pages)
  const mod = await import('{{ "/assets/js/militaryData.js" | relative_url }}?v={{ site.time | date: "%s" }}');
  const { ARMIES_1444, NAVIES_1444, SAMOGITIA_BY_YEAR, ARMIES_BY_YEAR, NAVIES_BY_YEAR } = mod;

  // ---------- helpers ----------
  function renderTable(data, tbodyId, cols){
    const tbody = document.getElementById(tbodyId);
    tbody.innerHTML = '';
    data.forEach(r=>{
      const tr=document.createElement('tr');
      tr.innerHTML = `<td>${r.name}</td><td>${r.total}</td>` + cols.map(c=>`<td>${r[c]}</td>`).join('');
      tbody.appendChild(tr);
    });
  }

  function sortByKey(data, key, asc=true){
    return [...data].sort((a,b)=>{
      if (a[key]<b[key]) return asc?-1:1;
      if (a[key]>b[key]) return asc? 1:-1;
      return 0;
    });
  }

  function makeSortable(tableId, tbodyId, getData, cols){
    const table=document.getElementById(tableId);
    table.querySelectorAll('th').forEach((th,i)=>{
      th.classList.add('sortable');
      let asc=true;
      th.addEventListener('click',()=>{
        const key = i===0 ? 'name' : i===1 ? 'total' : cols[i-2];
        const sorted = sortByKey(getData(), key, asc);
        asc = !asc;
        renderTable(sorted, tbodyId, cols);
      });
    });
  }

  function highlightTop(data, tbodyId){
    const max = Math.max(...data.map(r=>r.total));
    const rows = document.getElementById(tbodyId).rows;
    Array.from(rows).forEach(row=>{
      row.classList.toggle('highlight', parseInt(row.cells[1].textContent,10)===max);
    });
  }

  function hslColor(i,total,sat=70,light=45){
    const hue=(i*360/total)%360;
    return `hsl(${hue},${sat}%,${light}%)`;
  }

  // ---------- tables with year pickers ----------
  const armyYears = Object.keys(ARMIES_BY_YEAR).sort();
  const navyYears = Object.keys(NAVIES_BY_YEAR).sort();

  const armyYearSel = document.getElementById('army-year');
  const navyYearSel = document.getElementById('navy-year');
  armyYearSel.innerHTML = armyYears.map(y=>`<option value="${y}">${y}</option>`).join('');
  navyYearSel.innerHTML = navyYears.map(y=>`<option value="${y}">${y}</option>`).join('');

  let currentArmyYear = armyYears[0]; // 1444 by default
  let currentNavyYear = navyYears[0];

  function getArmyData(){ return ARMIES_BY_YEAR[currentArmyYear] || []; }
  function getNavyData(){ return NAVIES_BY_YEAR[currentNavyYear] || []; }

  function renderArmies(){ renderTable(getArmyData(),'army-rows',['inf','cav','art']); }
  function renderNavies(){ renderTable(getNavyData(),'navy-rows',['heavy','light','galley','trans']); }

  renderArmies();
  renderNavies();

  makeSortable('army-table','army-rows', getArmyData, ['inf','cav','art']);
  makeSortable('navy-table','navy-rows', getNavyData, ['heavy','light','galley','trans']);

  document.getElementById('highlightArmy').addEventListener('click',()=>highlightTop(getArmyData(),'army-rows'));
  document.getElementById('highlightNavy').addEventListener('click',()=>highlightTop(getNavyData(),'navy-rows'));

  armyYearSel.addEventListener('change', (e)=>{ currentArmyYear = e.target.value; renderArmies(); });
  navyYearSel.addEventListener('change', (e)=>{ currentNavyYear = e.target.value; renderNavies(); });

  // ---------- separate charts ----------
  const YEARS = Object.keys(SAMOGITIA_BY_YEAR);

  // Armies evolution: one line per 1444 country; Samogitia tracks across years
  const armyDatasets = [];
  let aIdx = 0;
  ARMIES_1444.forEach(r=>{
    const color = hslColor(aIdx++, ARMIES_1444.length, 70, 40);
    const series = YEARS.map(y=>{
      if(r.name==='Samogitia'){
        const v = SAMOGITIA_BY_YEAR[y];
        return v ? (v.inf + v.cav + v.art) : null;
      }
      return y===YEARS[0] ? r.total : null;
    });
    armyDatasets.push({
      label: `${r.name} Army`,
      data: series,
      borderColor: color,
      backgroundColor: color,
      hidden: true
    });
  });

  // Navies evolution: one line per 1444 navy; Samogitia tracks across years
  const navyDatasets = [];
  let nIdx = 0;
  NAVIES_1444.forEach(r=>{
    const color = hslColor(nIdx++, NAVIES_1444.length, 65, 35);
    const series = [r.total, ...YEARS.slice(1).map(y=>{
      if(r.name==='Samogitia'){
        const v = SAMOGITIA_BY_YEAR[y];
        if(!v) return null;
        const total = (v.heavy??0) + (v.light??0) + (v.galley??0) + (v.trans??0);
        return total || null;
      }
      return null;
    })];
    navyDatasets.push({
      label: `${r.name} Navy`,
      data: series,
      borderColor: color,
      backgroundColor: color,
      hidden: true
    });
  });

  const ctxArmy = document.getElementById('armyEvolutionChart').getContext('2d');
  const armyChart = new Chart(ctxArmy,{
    type:'line',
    data:{labels:YEARS, datasets: armyDatasets},
    options:{
      responsive:true,
      interaction:{mode:'nearest',intersect:false},
      plugins:{legend:{display:true}},
      elements:{line:{tension:0.25}},
      scales:{y:{beginAtZero:true}}
    }
  });

  const ctxNavy = document.getElementById('navyEvolutionChart').getContext('2d');
  const navyChart = new Chart(ctxNavy,{
    type:'line',
    data:{labels:YEARS, datasets: navyDatasets},
    options:{
      responsive:true,
      interaction:{mode:'nearest',intersect:false},
      plugins:{legend:{display:true}},
      elements:{line:{tension:0.25}},
      scales:{y:{beginAtZero:true}}
    }
  });

  // Toggle buttons (per chart)
  function setAllHidden(chart, btn, hidden){
    chart.data.datasets.forEach(ds=>{ ds.hidden = hidden; });
    chart.update();
    btn.textContent = hidden ? 'Show all' : 'Hide all';
  }
  function isAllHidden(chart){ return chart.data.datasets.every(ds => ds.hidden === true); }

  const toggleArmiesBtn = document.getElementById('toggleArmiesBtn');
  const toggleNaviesBtn = document.getElementById('toggleNaviesBtn');

  toggleArmiesBtn.addEventListener('click', ()=>{
    const shouldShow = isAllHidden(armyChart);
    setAllHidden(armyChart, toggleArmiesBtn, !shouldShow ? true : false);
  });
  toggleNaviesBtn.addEventListener('click', ()=>{
    const shouldShow = isAllHidden(navyChart);
    setAllHidden(navyChart, toggleNaviesBtn, !shouldShow ? true : false);
  });

  toggleArmiesBtn.textContent = 'Show all';
  toggleNaviesBtn.textContent = 'Show all';

  // ---------- tabs (unchanged) ----------
  const tabs = document.querySelectorAll('.tabs button');
  const panels = {
    armies: document.getElementById('tab-armies'),
    navies: document.getElementById('tab-navies'),
  };
  tabs.forEach(btn=>{
    btn.addEventListener('click', ()=>{
      tabs.forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      Object.values(panels).forEach(p=>p.hidden=true);
      panels[btn.dataset.tab].hidden=false;
    });
  });
</script>


  // ---------- Chart ----------
  const YEARS = Object.keys(SAMOGITIA_BY_YEAR);

  function hslColor(i,total,sat=70,light=45){
    const hue=(i*360/total)%360;
    return `hsl(${hue},${sat}%,${light}%)`;
  }

  const datasets=[];
  let armyIndex=0;
  let navyIndex=0;

  ARMIES_1444.forEach(r=>{
    const color=hslColor(armyIndex++,ARMIES_1444.length,70,40);
    const series=YEARS.map(y=>{
      if(r.name==='Samogitia'){
        const v=SAMOGITIA_BY_YEAR[y];
        return v ? (v.inf+v.cav+v.art) : null;
      }
      return y===YEARS[0] ? r.total : null;
    });
    datasets.push({label:`${r.name} Army`,data:series,borderColor:color,backgroundColor:color,hidden:true});
  });

  NAVIES_1444.forEach(r=>{
    const color=hslColor(navyIndex++,NAVIES_1444.length,65,35);
    datasets.push({label:`${r.name} Navy`,data:[r.total,...YEARS.slice(1).map(()=>null)],borderColor:color,backgroundColor:color,hidden:true});
  });

  const ctx=document.getElementById('evolutionChart').getContext('2d');
  const evoChart=new Chart(ctx,{
    type:'line',
    data:{labels:YEARS,datasets},
    options:{
      responsive:true,
      interaction:{mode:'nearest',intersect:false},
      plugins:{legend:{display:true}},
      elements:{line:{tension:0.25}},
      scales:{y:{beginAtZero:true}}
    }
  });

  // Toggle all
  const toggleBtn=document.getElementById('toggleAllBtn');
  function isAllHidden(){ return evoChart.data.datasets.every(ds=>ds.hidden===true); }
  function setAllHidden(hidden){
    evoChart.data.datasets.forEach(ds=>{ds.hidden=hidden;});
    evoChart.update();
    toggleBtn.textContent = hidden ? 'Show all' : 'Hide all';
  }
  function toggleAll(){
    const shouldShow=isAllHidden();
    setAllHidden(!shouldShow?true:false);
  }
  toggleBtn.textContent='Show all';
  toggleBtn.addEventListener('click',toggleAll);
</script>
